###############################################################################
################################### WARNING ###################################
###############################################################################
#
# This CMakeLists.txt is for development purposes only.
#
###############################################################################
###############################################################################
###############################################################################
#-------------------
# Main elf
#-------------------
file(GLOB MAIN_SRC
    "${PROJECT_SOURCE_DIR}/app/basic/*.c"
    "${PROJECT_SOURCE_DIR}/lib/GNSE_BSP/GNSE_bsp_clk_timer.c"
    "${PROJECT_SOURCE_DIR}/lib/GNSE_BSP/GNSE_bsp_gpio.c"
    "${PROJECT_SOURCE_DIR}/lib/GNSE_BSP/GNSE_bsp_serial.c"
    "${PROJECT_SOURCE_DIR}/lib/GNSE_BSP/GNSE_msp.c"
    "${PROJECT_SOURCE_DIR}/lib/GNSE_HAL/GNSE_bm.c"
    "${PROJECT_SOURCE_DIR}/lib/Utilities/stm32_adv_trace.c"
    "${PROJECT_SOURCE_DIR}/lib/Utilities/stm32_mem.c"
    "${PROJECT_SOURCE_DIR}/lib/Utilities/stm32_tiny_vsnprintf.c"
    "${PROJECT_SOURCE_DIR}/lib/Utilities/usart_if.c"
    "${PROJECT_SOURCE_DIR}/lib/SHTC3/sensirion_common.c"
    "${PROJECT_SOURCE_DIR}/lib/SHTC3/sensirion_hw_i2c_implementation.c"
    "${PROJECT_SOURCE_DIR}/lib/SHTC3/SHTC3.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/MX25R16.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/mxic_hc.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/mx_test.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/nor_cmd.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/nor_ops.c"
    "${PROJECT_SOURCE_DIR}/lib/MX25R1635/spi.c"
    "${PROJECT_SOURCE_DIR}/lib/LIS2DH12/LIS2DH12.c"
    "${PROJECT_SOURCE_DIR}/lib/LIS2DH12/st_hw_i2c_implementation.c"
    "${PROJECT_SOURCE_DIR}/lib/BUZZER/BUZZER.c"
    "${PROJECT_SOURCE_DIR}/lib/ATECC608A-TNGLORA/atecc608a-tnglora-se-hal.c"
    "${PROJECT_SOURCE_DIR}/lib/ATECC608A-TNGLORA/tnglora_read_helper.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/atca_basic.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/atca_command.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/atca_debug.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/atca_device.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/atca_iface.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/calib/calib_basic.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/calib/calib_command.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/calib/calib_execution.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/calib/calib_read.c"
    "${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/hal/atca_hal.c"
    )
set(SOURCES
    ${MAIN_SRC}
    ${PROJECT_SOURCE_DIR}/${STARTUP_FILE}
    ${PROJECT_SOURCE_DIR}/${SYSTEM_FILE}
    )
add_executable(${PROJECT_NAME}.elf
    ${SOURCES}
    )
target_include_directories(${PROJECT_NAME}.elf
    PUBLIC
    ${PROJECT_SOURCE_DIR}/target
    ${PROJECT_SOURCE_DIR}/app
    ${PROJECT_SOURCE_DIR}/app/basic
    ${PROJECT_SOURCE_DIR}/app/basic/conf
    ${PROJECT_SOURCE_DIR}/lib/GNSE_BSP
    ${PROJECT_SOURCE_DIR}/lib/GNSE_HAL
    ${PROJECT_SOURCE_DIR}/lib/Utilities
    ${PROJECT_SOURCE_DIR}/lib/SHTC3
    ${PROJECT_SOURCE_DIR}/lib/MX25R1635
    ${PROJECT_SOURCE_DIR}/lib/LIS2DH12
    ${PROJECT_SOURCE_DIR}/lib/BUZZER
    ${PROJECT_SOURCE_DIR}/lib/ATECC608A-TNGLORA
    ${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib
    ${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/calib
    ${PROJECT_SOURCE_DIR}/lib/cryptoauthlib/lib/hal
    )
target_link_libraries(${PROJECT_NAME}.elf
    PUBLIC
    hal
    )
target_compile_definitions(${PROJECT_NAME}.elf
    PUBLIC
    ${MCU}
    SEMIHOSTING=${SEMIHOSTING}
    )
    # Create output in hex and binary format
    create_bin_output(${PROJECT_NAME})
    create_hex_output(${PROJECT_NAME})
    # Add additional files to the make clean
    set_property(DIRECTORY PROPERTY ADDITIONAL_MAKE_CLEAN_FILES
    "${PROJECT_NAME}.map"
    "${PROJECT_NAME}.bin"
    "${PROJECT_NAME}.hex"
    )
